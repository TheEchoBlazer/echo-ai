<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Echo-AI One-File</title>
<style>
body{margin:0;background:#0b0f14;color:#e8eef9;font:14px system-ui}
.wrap{max-width:720px;margin:auto;padding:12px}
header{display:flex;align-items:center;justify-content:space-between}
h1{margin:0;font-size:18px}
.status{font-size:12px;color:#9aa6bb;margin-top:4px}
.stage{position:relative;height:320px;margin:12px 0;background:#0e1523;border-radius:12px;overflow:hidden}
.shadow{position:absolute;left:50%;bottom:50px;transform:translateX(-50%);width:160px;height:20px;background:radial-gradient(closest-side,#0006,#0000);opacity:0}
.rig{position:absolute;left:50%;top:-260px;transform:translateX(-50%);width:160px;height:260px;animation:drop 2s cubic-bezier(.2,.8,.1,1) forwards}
@keyframes drop{0%{top:-260px}80%{top:180px}100%{top:190px}}
.mouth{transition:transform .06s linear;transform-origin:50% 0}
.talk{transform:scaleY(1.35)}
.chat{background:#0f1625;border-radius:12px;padding:8px;height:180px;overflow:auto}
.row{margin:6px 0}.mine{text-align:right}
.msg{display:inline-block;padding:6px 10px;border-radius:8px;background:#141b2c}
.mine .msg{background:#1b2742}
.toolbar{display:flex;margin-top:6px}
textarea{flex:1;min-height:48px;background:#0e1626;color:#e8eef9;border:1px solid #20304a;border-radius:8px;padding:6px}
button{margin-left:6px;padding:8px 12px;border:none;border-radius:8px;background:linear-gradient(90deg,#8b5cf6,#6ee7ff);color:#061019;font-weight:700;cursor:pointer}
</style>
</head>
<body>
<div class="wrap">
  <header><h1>Echo-AI</h1><div id="status" class="status">ready</div></header>

  <div class="stage">
    <div class="shadow" id="shadow"></div>
    <div class="rig" id="rig">
      <svg viewBox="0 0 260 300" width="160">
        <ellipse cx="130" cy="120" rx="70" ry="80" fill="#f1c38a"/>
        <ellipse cx="130" cy="80" rx="74" ry="40" fill="#322214"/>
        <ellipse cx="100" cy="114" rx="14" ry="12" fill="#fff"/>
        <ellipse cx="160" cy="114" rx="14" ry="12" fill="#fff"/>
        <circle cx="104" cy="116" r="3" fill="#1c2440"/>
        <circle cx="164" cy="116" r="3" fill="#1c2440"/>
        <path id="mouth" class="mouth" d="M98,152 q32,22 64,0 q-8,18 -32,18 q-24,0 -32,-18 Z" fill="#3b0d0d"/>
      </svg>
    </div>
  </div>

  <div id="chat" class="chat"></div>
  <div class="toolbar">
    <textarea id="in" placeholder="ask skript / gtag codeâ€¦"></textarea>
    <button id="send">Ask</button>
  </div>
</div>

<script>
const WORKER_URL = "https://YOUR_WORKER.workers.dev"; // ðŸ‘ˆ replace
const $=s=>document.querySelector(s),statusEl=$("#status"),chat=$("#chat"),input=$("#in"),btn=$("#send"),mouth=$("#mouth");
function add(role,text){const row=document.createElement("div");row.className="row "+role;const msg=document.createElement("div");msg.className="msg";msg.textContent=text;row.appendChild(msg);chat.appendChild(row);chat.scrollTop=chat.scrollHeight;return msg;}
function speak(t){speechSynthesis.cancel();const u=new SpeechSynthesisUtterance(t);let flip=false;u.onstart=()=>{talk=setInterval(()=>{flip=!flip;mouth.classList.toggle("talk",flip)},100)};u.onend=()=>{clearInterval(talk);mouth.classList.remove("talk")};speechSynthesis.speak(u);}
async function callAI(text){const r=await fetch(WORKER_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:"You are a coding helper for Minecraft Skript and Gorilla Tag Unity."},{role:"user",content:text}]})});const d=await r.json();return d.text||"error";}
btn.onclick=async()=>{const t=input.value.trim();if(!t)return;input.value="";add("mine",t);const m=add("theirs","â€¦thinkingâ€¦");statusEl.textContent="askingâ€¦";try{const reply=await callAI(t);m.textContent=reply;speak(reply);statusEl.textContent="done"}catch(e){m.textContent="err: "+e.message;statusEl.textContent="fail"}};
</script>
</body>
</html>
